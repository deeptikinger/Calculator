{"version":3,"sources":["context/authContext.js","components/UI/Card.js","components/Auth.js","components/Ingredients/IngredientList.js","components/UI/LoadingIndicator.js","components/Ingredients/IngredientForm.js","components/Ingredients/Search.js","components/UI/ErrorModal.js","components/Ingredients/Ingredients.js","App.js","index.js"],"names":["AuthContext","React","createContext","isAuth","login","AuthContextProvider","props","_useState","useState","_useState2","Object","slicedToArray","userAuth","setAuth","react_default","a","createElement","Provider","value","children","Card","className","Auth","authContext","useContext","components_UI_Card","onClick","IngredientList","memo","ingredients","map","ig","key","id","onRemoveItem","bind","title","amount","LoadingIndicator","IngredientForm","enterTitle","setTitle","_useState3","_useState4","enterAmount","setAmount","onSubmit","event","preventDefault","onAdd","htmlFor","type","onChange","target","loading","components_UI_LoadingIndicator","Search","onLoad","enterFilter","setenterFilter","inputRef","useRef","useEffect","timer","setTimeout","current","query","length","concat","fetch","then","res","json","resData","loadedIng","push","clearTimeout","ref","ErrorModal","Fragment","onClose","ingReducer","ings","action","filter","ing","toConsumableArray","Error","httpReducer","state","error","objectSpread2","Ingredients","_useReducer","useReducer","_useReducer2","dispatch","_useReducer3","_useReducer4","httpState","dispatchHttp","addIngredient","useCallback","ingredient","method","body","JSON","stringify","headers","Content-Type","name","removeIngredient","catch","err","FilterIngredient","filterIng","UI_ErrorModal","Ingredients_IngredientForm","Ingredients_Search","Ingredients_IngredientList","App","content","src_components_Auth","Ingredients_Ingredients","ReactDOM","render","context_authContext","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.62c8bd34.chunk.js","sourcesContent":["import React ,{useState}from 'react'\r\nexport const AuthContext =React.createContext({\r\n    isAuth:false,\r\n    login:()=>{}\r\n})\r\n\r\nconst AuthContextProvider=props=>{\r\n    const[userAuth,setAuth]=useState(false)\r\n\r\n    const loginHandler=()=>{\r\n        setAuth(true)\r\n    }\r\n    return(\r\n        <AuthContext.Provider value={{login:loginHandler,isAuth:userAuth}}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthContextProvider","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return <div className=\"card\">{props.children}</div>;\n};\n\nexport default Card;\n","import React ,{useContext}from 'react';\nimport {AuthContext} from '../context/authContext'\nimport Card from './UI/Card';\nimport './Auth.css';\n\nconst Auth = props => {\n  const authContext=useContext(AuthContext)\n  const loginHandler = () => {\n    authContext.login()\n  };\n\n  return (\n    <div className=\"auth\">\n      <Card>\n        <h2>You are not authenticated!</h2>\n        <p>Please log in to continue.</p>\n        <button onClick={loginHandler}>Log In</button>\n      </Card>\n    </div>\n  );\n};\n\nexport default Auth;\n","import React from 'react';\n\nimport './IngredientList.css';\n\nconst IngredientList =React.memo( props => {\n  return (\n    <section className=\"ingredient-list\">\n      <h2>Loaded Ingredients</h2>\n      <ul>\n        {props.ingredients.map(ig => (\n          <li key={ig.id} onClick={props.onRemoveItem.bind(this, ig.id)}>\n            <span>{ig.title}</span>\n            <span>{ig.amount}x</span>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n});\n\nexport default IngredientList;\n","import React from 'react';\n\nimport './LoadingIndicator.css';\n\nconst LoadingIndicator = () => (\n  <div className=\"lds-ring\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default LoadingIndicator;\n","import React ,{useState}from 'react';\nimport LoadingIdicator from '../UI/LoadingIndicator'\nimport Card from '../UI/Card';\nimport './IngredientForm.css';\n\nconst IngredientForm = React.memo(props => {\n// const [inputState,setInputState]=useState({title:'',amount:''})\nconst [enterTitle ,setTitle]=useState('')\nconst [enterAmount,setAmount]=useState('')\n\n  const submitHandler = event => {\n    event.preventDefault();\n    props.onAdd({title:enterTitle,amount:enterAmount})\n  };\n\n  return (\n    <section className=\"ingredient-form\">\n      <Card>\n        <form onSubmit={submitHandler}>\n          <div className=\"form-control\">\n            <label htmlFor=\"title\">Name</label>\n            <input type=\"text\" id=\"title\" value={enterTitle} \n            onChange={event=>\n            setTitle(event.target.value)}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"amount\">Amount</label>\n            <input type=\"number\" id=\"amount\" value={enterAmount} \n            onChange={event=>{\n              setAmount(event.target.value)}\n              }/>\n          </div>\n          <div className=\"ingredient-form__actions\">\n            <button type=\"submit\">Add Ingredient</button>\n            {props.loading?<LoadingIdicator/>:null}\n          </div>\n        </form>\n      </Card>\n    </section>\n  );\n});\n\nexport default IngredientForm;\n","import React ,{useState,useEffect,useRef}from 'react';\nimport Card from '../UI/Card';\nimport './Search.css';\n\nconst Search = React.memo(props => {\n  const{onLoad}=props\n  const [enterFilter,setenterFilter]=useState('')\n  const inputRef=useRef()\n  useEffect(()=>{\n     const timer= setTimeout(()=>{\n      if(enterFilter===inputRef.current.value){\n        const query=enterFilter.length===0 ?' ':`?orderBy=\"title\"&equalTo=\"${enterFilter}\"`\n      fetch('https://react-hooks-c303a.firebaseio.com/ingredients.json'+query)\n      .then(res=>res.json())\n      .then(resData=>{\n       const loadedIng=[]\n       for(const key in resData){\n         loadedIng.push({\n           id:key,\n           title:resData[key].title,\n           amount:resData[key].amount\n         })\n       }\n       onLoad(loadedIng)\n     })  \n    }\n  },500)\nreturn()=>{\n  clearTimeout(timer)\n }\n},[enterFilter,onLoad,inputRef])\n\n  return (\n    <section className=\"search\">\n      <Card>\n        <div className=\"search-input\">\n          <label>Filter by Title</label>\n          <input\n            ref={inputRef}\n           type=\"text\"\n           value={enterFilter} \n          onChange={event=>setenterFilter(event.target.value)}/>\n        </div>\n      </Card>\n    </section>\n  );\n});\n\nexport default Search;\n","import React from 'react';\n\nimport './ErrorModal.css';\n\nconst ErrorModal = React.memo(props => {\n  return (\n    <React.Fragment>\n      <div className=\"backdrop\" onClick={props.onClose} />\n      <div className=\"error-modal\">\n        <h2>An Error Occurred!</h2>\n        <p>{props.children}</p>\n        <div className=\"error-modal__actions\">\n          <button type=\"button\" onClick={props.onClose}>\n            Okay\n          </button>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n});\n\nexport default ErrorModal;\n","import React,{useCallback,useReducer} from 'react';\nimport IngredientList from './IngredientList'\nimport IngredientForm from './IngredientForm';\nimport Search from './Search';\nimport ErrorModel from '../UI/ErrorModal'\n\nconst ingReducer=(ings,action)=>{\n  switch(action.type){\n    case'SET':\n    return action.ings\n    case 'DELETE':\n      return ings.filter(ing=>ing.id!==action.id)\n      case 'ADD':\n        return [...ings,action.ing]\n        default:\n          throw new Error('Never reached there')\n  }\n}\n\nconst httpReducer=(state,action)=>{\n  switch(action.type){\n    case 'SEND':\n      return {loading:true,error:null}\n    case 'RESPONSE':\n      return {...state,loading:false}\n    case 'ERROR':\n      return {loading:false,error:action.error}\n      case 'CLEAR':\n        return{...state,error:null}\n    default:\n    throw new Error('Never reached')\n  }\n}\nfunction Ingredients() {\n  // const [ingredients,setIngredients]=useState([])\n  const [ingredients,dispatch]=useReducer(ingReducer,[])\n  const [httpState,dispatchHttp]=useReducer(httpReducer,{loading:false,error:null})\n  // const [isLoading,setLoading]=useState(false)\n  // const [isError ,setError]=useState()\n\n//after every render cycle\n//   useEffect(()=>{\n//    fetch('https://react-hooks-c303a.firebaseio.com/ingredients.json')\n//    .then(res=>res.json())\n//    .then(resData=>{\n//     const loadedIng=[]\n//     for(const key in resData){\n//       loadedIng.push({\n//         id:key,\n//         title:resData[key].title,\n//         amount:resData[key].amount\n//       })\n//     }\n//     setIngredients(loadedIng)\n// })  \n// },[])\n\n  const addIngredient=useCallback(ingredient=>{\n    dispatchHttp({type:'SEND'})\n    // setLoading(true)\n    fetch('https://react-hooks-c303a.firebaseio.com/ingredients.json',{\n      method:'POST',\n      body:JSON.stringify(ingredient),\n      headers:{'Content-Type':'application/json' }\n    }).then(res=>{\n      // setLoading(false)\n      dispatchHttp({type:'RESPONSE'})\n     return res.json()\n    })\n     .then(resData=>{\n  //     setIngredients(prevState=>[...prevState,{\n  //       id:resData.name,\n  //       ...ingredient\n  //     }])\n     dispatch({type:'ADD',ing:{  id:resData.name,...ingredient}\n    })\n  }) \n} ,[])\n\n  const removeIngredient=useCallback(id=>{\n    // setLoading(true)\n    dispatchHttp({type:'SEND'})\n    fetch(`https://react-hooks-c303a.firebaseio.com/ingredients/${id}.json`,{\n      method:'DELETE',\n  }\n  ).then(res=>{\n    // setLoading(false)\n    dispatchHttp({type:'RESPONSE'})\n  //   setIngredients(prevIng=>\n  //  prevIng.filter(ingredient=>ingredient.id!==id)\n  //   )\n    dispatch({type:'DELETE',id:id})\n  })\n  .catch(err=>{\n  //  setError('Something went wrong')\n  //  setLoading(false)\n  dispatchHttp({type:'ERROR' ,error:'Something Went Wrong'})\n })\n},[])\n  const FilterIngredient=useCallback(filterIng=>{\n    // setIngredients(filterIng)\n    dispatch({type:'SET',ings:filterIng})\n  },[])\n\n  const clearError=()=>{\n    // setError(null)\n    dispatchHttp({type:'CLEAR'})\n  }\n  return (\n    <div className=\"App\">\n      {httpState.error &&<ErrorModel onClose={clearError}>{httpState.error}</ErrorModel>}\n      <IngredientForm \n      onAdd={addIngredient}\n      loading={httpState.loading}\n      />\n      <section>\n        <Search onLoad={FilterIngredient}/>\n        <IngredientList\n        ingredients={ingredients}\n        onRemoveItem={removeIngredient}/>\n        {/* Need to add list here! */}\n      </section>\n    </div>\n  );\n}\n\nexport default Ingredients;\n","import React,{useContext} from 'react';\nimport Auth from './components/Auth'\nimport Ingredients from './components/Ingredients/Ingredients';\nimport {AuthContext} from './context/authContext'\nconst App = props => {\n  const authContext=useContext(AuthContext)\n  let content=<Auth/>\n  if(authContext.isAuth){\n   content=<Ingredients/>\n  }\n  return content\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AuthContextProvider from './context/authContext'\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<AuthContextProvider><App /></AuthContextProvider>, document.getElementById('root'));\n"],"sourceRoot":""}